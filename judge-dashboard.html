<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Judge Dashboard | CompetitionHub</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="judge.js" defer></script>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <h1>CompetitionHub</h1>
        </div>
        <nav>
            <ul>
                <li class="active"><a href="#"><i class="fas fa-chart-line"></i> Dashboard</a></li>
                <li><a href="#"><i class="fas fa-file-alt"></i> Submissions</a></li>
                <li><a href="#"><i class="fas fa-star"></i> Evaluation</a></li>
                <li><a href="#"><i class="fas fa-calendar-alt"></i> Schedule</a></li>
                <li><a href="#"><i class="fas fa-clipboard-list"></i> Criteria</a></li>
                <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
            </ul>
        </nav>
        <div class="user-info">
            <div class="avatar">JD</div>
            <span>Judge Name</span>
            <a href="#" class="logout">Log Out</a>
        </div>
    </div>

    <main>
        <header>
            <div class="search-bar">
                <input type="text" placeholder="Search submissions...">
                <button type="submit"><i class="fas fa-search"></i></button>
            </div>
            <div class="notifications">
                <i class="fas fa-bell"></i>
                <span class="badge">2</span>
            </div>
        </header>

        <div class="content">
            <h2>Welcome, Judge!</h2>
            <div class="status-banner">
                <p><i class="fas fa-hourglass-half"></i> Judging phase begins: <span class="countdown" id="judging-countdown">14 days</span></p>
                <p><i class="fas fa-tasks"></i> Assigned submissions: <span class="count">28</span></p>
            </div>

            <div class="dashboard-cards">
                <div class="card">
                    <h3><i class="fas fa-chart-pie"></i> Evaluation Progress</h3>
                    <div class="card-content">
                        <div class="progress-container">
                            <div class="progress-stat">
                                <span class="progress-label">Assigned</span>
                                <span class="progress-number">28</span>
                            </div>
                            <div class="progress-stat">
                                <span class="progress-label">Reviewed</span>
                                <span class="progress-number">0</span>
                            </div>
                            <div class="progress-stat">
                                <span class="progress-label">Remaining</span>
                                <span class="progress-number">28</span>
                            </div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 0%"></div>
                        </div>
                        <p class="progress-text">0% Complete</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3><i class="fas fa-file-upload"></i> Recently Submitted Projects</h3>
                    <div class="card-content">
                        <div class="project-list">
                            <div class="project-item">
                                <div class="project-info">
                                    <h4>Project Alpha</h4>
                                    <p>Submitted by: Team Innovators</p>
                                    <span class="submission-date">Mar 5, 2025</span>
                                </div>
                                <button class="btn-preview">Preview</button>
                            </div>
                            <div class="project-item">
                                <div class="project-info">
                                    <h4>EcoSolution</h4>
                                    <p>Submitted by: Green Team</p>
                                    <span class="submission-date">Mar 4, 2025</span>
                                </div>
                                <button class="btn-preview">Preview</button>
                            </div>
                            <div class="project-item">
                                <div class="project-info">
                                    <h4>FutureVision</h4>
                                    <p>Submitted by: NextGen</p>
                                    <span class="submission-date">Mar 3, 2025</span>
                                </div>
                                <button class="btn-preview">Preview</button>
                            </div>
                        </div>
                        <a href="#" class="view-all">View All Submissions</a>
                    </div>
                </div>

                <div class="card">
                    <h3><i class="fas fa-calendar-week"></i> Judging Schedule</h3>
                    <div class="card-content">
                        <ul class="event-list">
                            <li>
                                <div class="event-date">Mar 21</div>
                                <div class="event-details">
                                    <h4>Judging Kickoff Meeting</h4>
                                    <p>9:00 AM - 10:30 AM</p>
                                </div>
                            </li>
                            <li>
                                <div class="event-date">Mar 22-30</div>
                                <div class="event-details">
                                    <h4>Initial Evaluation Period</h4>
                                    <p>All submissions</p>
                                </div>
                            </li>
                            <li>
                                <div class="event-date">Apr 1-3</div>
                                <div class="event-details">
                                    <h4>Finalist Selection</h4>
                                    <p>Judge Panel Meeting</p>
                                </div>
                            </li>
                        </ul>
                        <button class="btn secondary" id="calendar-button"><i class="fas fa-calendar-plus"></i> Add to Calendar</button>
                    </div>
                </div>
            </div>

            <div class="criteria-section">
                <h3><i class="fas fa-balance-scale"></i> Evaluation Criteria</h3>
                <div class="criteria-grid">
                    <div class="criteria-item">
                        <h4>Innovation</h4>
                        <p>Originality and creativity of the solution</p>
                        <span class="weight">30%</span>
                    </div>
                    <div class="criteria-item">
                        <h4>Implementation</h4>
                        <p>Quality and completeness of execution</p>
                        <span class="weight">25%</span>
                    </div>
                    <div class="criteria-item">
                        <h4>Impact</h4>
                        <p>Potential for real-world application</p>
                        <span class="weight">25%</span>
                    </div>
                    <div class="criteria-item">
                        <h4>Presentation</h4>
                        <p>Clarity and effectiveness of communication</p>
                        <span class="weight">20%</span>
                    </div>
                </div>
                <a href="#" class="criteria-details"><i class="fas fa-info-circle"></i> View Detailed Criteria</a>
            </div>

            <div class="evaluation-panel" id="evaluation-preview">
                <h3><i class="fas fa-clipboard-check"></i> Evaluation Form Preview</h3>
                <div class="form-preview">
                    <div class="form-section">
                        <h4>Innovation Score (1-10)</h4>
                        <div class="score-slider">
                            <input type="range" min="1" max="10" value="5" class="slider" disabled>
                            <div class="score-labels">
                                <span>1</span>
                                <span>5</span>
                                <span>10</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h4>Feedback Comments</h4>
                        <textarea placeholder="Enter detailed feedback here..." disabled></textarea>
                    </div>
                    <p class="note">This is a preview. The full evaluation form will be available when judging begins.</p>
                </div>
            </div>
        </div>
    </main>

    <div class="sidebar-right" id="preview-panel">
        <div class="panel-header">
            <h3>Submission Preview</h3>
            <button class="close-panel">&times;</button>
        </div>
        <div class="panel-content">
            <div class="project-preview">
                <div class="preview-header">
                    <h4>Project Alpha</h4>
                    <span class="team">Team Innovators</span>
                </div>
                <div class="preview-content">
                    <p class="preview-description">
                        Project Alpha is a revolutionary approach to solve urban transportation issues using AI and renewable energy sources.
                    </p>
                    <div class="preview-image">
                        <div class="placeholder-image">Project Preview Image</div>
                    </div>
                    <ul class="preview-details">
                        <li><strong>Category:</strong> Urban Mobility</li>
                        <li><strong>Team Size:</strong> 4 members</li>
                        <li><strong>Submission Date:</strong> March 5, 2025</li>
                    </ul>
                </div>
                <div class="preview-actions">
                    <button class="btn primary" id="view-full"><i class="fas fa-eye"></i> View Full Submission</button>
                    <button class="btn secondary" id="save-notes"><i class="fas fa-save"></i> Save Notes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast container will be added by JavaScript -->
    <div class="toast-container"></div>

    <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize UI elements
    initializeCountdown();
    initializePreviewPanel();
    initializeMobileMenu();
    
    // Add initial UI enhancements
    addAvatarInitials();
    
    // Simulate progress update (for demo purposes)
    simulateProgressUpdate();
});

// Initialize countdown timer
function initializeCountdown() {
    const countdownEl = document.getElementById('judging-countdown');
    if (!countdownEl) return;
    
    // Calculate days difference (in a real app, this would use actual dates)
    let daysRemaining = 14;
    
    // Update the countdown
    function updateCountdown() {
        if (daysRemaining > 0) {
            countdownEl.textContent = daysRemaining + (daysRemaining === 1 ? ' day' : ' days');
            countdownEl.classList.remove('urgent');
            
            if (daysRemaining <= 3) {
                countdownEl.classList.add('urgent');
            }
            
            daysRemaining--;
            setTimeout(updateCountdown, 24 * 60 * 60 * 1000); // Update every 24 hours
        } else {
            countdownEl.textContent = 'Started!';
            countdownEl.classList.add('active');
        }
    }
    
    // For demo purposes, update faster
    if (countdownEl.classList.contains('demo-mode')) {
        daysRemaining = 5;
        setTimeout(updateCountdown, 3000);
    } else {
        updateCountdown();
    }
}

// Initialize preview panel functionality
function initializePreviewPanel() {
    const previewPanel = document.getElementById('preview-panel');
    const previewButtons = document.querySelectorAll('.btn-preview');
    const closeButton = document.querySelector('.close-panel');
    
    if (!previewPanel || !previewButtons.length || !closeButton) return;
    
    // Open preview panel when clicking preview buttons
    previewButtons.forEach(button => {
        button.addEventListener('click', function() {
            previewPanel.classList.add('active');
            // Get project info from the clicked item
            const projectItem = this.closest('.project-item');
            if (projectItem) {
                const projectName = projectItem.querySelector('h4').textContent;
                const teamName = projectItem.querySelector('p').textContent.replace('Submitted by: ', '');
                const submissionDate = projectItem.querySelector('.submission-date').textContent;
                
                // Update preview panel with project info
                document.querySelector('.preview-header h4').textContent = projectName;
                document.querySelector('.preview-header .team').textContent = teamName;
                document.querySelector('.preview-details li:nth-child(3) strong').nextSibling.textContent = submissionDate;
            }
        });
    });
    
    // Close preview panel
    closeButton.addEventListener('click', function() {
        previewPanel.classList.remove('active');
    });
    
    // Close panel when clicking outside
    document.addEventListener('click', function(event) {
        if (previewPanel.classList.contains('active') && 
            !previewPanel.contains(event.target) && 
            !Array.from(previewButtons).some(btn => btn.contains(event.target))) {
            previewPanel.classList.remove('active');
        }
    });
}

// Add mobile menu toggle functionality
function initializeMobileMenu() {
    // Create mobile menu toggle button if it doesn't exist
    if (!document.querySelector('.menu-toggle')) {
        const header = document.querySelector('header');
        if (header) {
            const menuToggle = document.createElement('button');
            menuToggle.className = 'menu-toggle';
            menuToggle.innerHTML = '<i class="icon-menu"></i>';
            header.insertBefore(menuToggle, header.firstChild);
            
            // Add event listener
            menuToggle.addEventListener('click', function() {
                const sidebar = document.querySelector('.sidebar');
                sidebar.classList.toggle('active');
            });
        }
    }
}

// Add user initials to avatar
function addAvatarInitials() {
    const avatar = document.querySelector('.avatar');
    const userNameSpan = document.querySelector('.user-info span');
    
    if (avatar && userNameSpan) {
        const userName = userNameSpan.textContent;
        if (userName) {
            // Get initials from user name
            const initials = userName
                .split(' ')
                .map(name => name.charAt(0))
                .join('')
                .toUpperCase();
            
            // Set initials to avatar
            avatar.textContent = initials.substring(0, 2);
        }
    }
}

// Simulate progress update for demo purposes
function simulateProgressUpdate() {
    // Get elements
    const progressBar = document.querySelector('.progress');
    const progressNumber = document.querySelector('.progress-stat:nth-child(2) .progress-number');
    const remainingNumber = document.querySelector('.progress-stat:nth-child(3) .progress-number');
    const progressText = document.querySelector('.progress-text');
    
    if (!progressBar || !progressNumber || !remainingNumber || !progressText) return;
    
    // Demo progress simulation
    let currentProgress = 0;
    const totalAssigned = parseInt(document.querySelector('.progress-stat:nth-child(1) .progress-number').textContent);
    
    // Update progress UI
    function updateProgress() {
        // Update numbers
        progressNumber.textContent = currentProgress;
        remainingNumber.textContent = totalAssigned - currentProgress;
        
        // Update progress bar
        const percentComplete = Math.round((currentProgress / totalAssigned) * 100);
        progressBar.style.width = percentComplete + '%';
        progressText.textContent = percentComplete + '% Complete';
        
        // Add special class for completed state
        if (percentComplete === 100) {
            progressBar.classList.add('completed');
            progressText.classList.add('completed');
        }
    }
    
    // Simulate random progress over time (for demo purposes)
    function simulateRandomProgress() {
        if (currentProgress < totalAssigned) {
            // Random increment between 1-3
            const increment = Math.floor(Math.random() * 3) + 1;
            currentProgress = Math.min(currentProgress + increment, totalAssigned);
            updateProgress();
            
            // Continue simulation with random delay
            const delay = Math.floor(Math.random() * 5000) + 3000;
            setTimeout(simulateRandomProgress, delay);
        }
    }
    
    // Add click event to progress bar for demo purposes
    progressBar.parentElement.addEventListener('click', function() {
        if (currentProgress < totalAssigned) {
            currentProgress++;
            updateProgress();
        }
    });
    
    // Start simulation after delay
    setTimeout(simulateRandomProgress, 5000);
}

// Calendar integration
document.getElementById('calendar-button')?.addEventListener('click', function() {
    alert('Calendar integration would add these events to your calendar');
});

// View full submission button
document.getElementById('view-full')?.addEventListener('click', function() {
    alert('This would open the full submission details page');
});

// Save notes button
document.getElementById('save-notes')?.addEventListener('click', function() {
    alert('Your notes have been saved successfully');
});

// Add animation to criteria items
document.addEventListener('DOMContentLoaded', function() {
    const criteriaItems = document.querySelectorAll('.criteria-item');
    
    criteriaItems.forEach((item, index) => {
        // Add delay based on index for staggered animation
        item.style.animationDelay = (index * 0.1) + 's';
        item.classList.add('animate-in');
    });
});

// Add hover effect to navigation items
document.querySelectorAll('nav ul li a').forEach(link => {
    link.addEventListener('mouseenter', function() {
        this.querySelector('i')?.classList.add('pulse');
    });
    
    link.addEventListener('mouseleave', function() {
        this.querySelector('i')?.classList.remove('pulse');
    });
});

// Add toast notification system
function showToast(message, type = 'info') {
    // Create toast container if it doesn't exist
    if (!document.querySelector('.toast-container')) {
        const toastContainer = document.createElement('div');
        toastContainer.className = 'toast-container';
        document.body.appendChild(toastContainer);
    }
    
    // Create toast element
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    toast.innerHTML = `
        <div class="toast-icon"><i class="icon-${type}"></i></div>
        <div class="toast-message">${message}</div>
        <button class="toast-close">&times;</button>
    `;
    
    // Add toast to container
    document.querySelector('.toast-container').appendChild(toast);
    
    // Show toast
    setTimeout(() => {
        toast.classList.add('show');
    }, 10);
    
    // Auto-hide toast after delay
    setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
            toast.remove();
        }, 300);
    }, 5000);
    
    // Close button functionality
    toast.querySelector('.toast-close').addEventListener('click', function() {
        toast.classList.remove('show');
        setTimeout(() => {
            toast.remove();
        }, 300);
    });
}

// Show welcome toast on page load
setTimeout(() => {
    showToast('Welcome to the Judge Dashboard! Judging begins in 14 days.', 'info');
}, 1000);
// This script can be added to each dashboard page to make the links functional
// It should be included after the existing script tags in each dashboard file

document.addEventListener('DOMContentLoaded', function() {
    // Initialize navigation links
    initializeNavigationLinks();
    
    // Make specific dashboard action links functional
    initializeDashboardActions();
});

// Set up navigation between dashboards and within each dashboard
function initializeNavigationLinks() {
    // Map navigation items to their respective pages
    const navMap = {
        // Common navigation items
        "Dashboard": "index.html",
        "Schedule": "schedule.html",
        "Settings": "settings.html",
        
        // Judge-specific navigation
        "Submissions": "submissions.html",
        "Evaluation": "evaluation.html",
        "Criteria": "criteria.html",
        
        // Organizer-specific navigation
        "Participants": "participants.html",
        "Judges": "judges.html",
        "Announcements": "announcements.html",
        
        // Participant-specific navigation
        "My Submissions": "my-submissions.html",
        "Feedback": "feedback.html",
        "Rules": "rules.html"
    };
    
    // Get all navigation links
    const navLinks = document.querySelectorAll('nav ul li a');
    
    // Update href attributes based on link text
    navLinks.forEach(link => {
        const linkText = link.textContent.trim();
        if (navMap[linkText]) {
            link.href = navMap[linkText];
        }
    });
    
    // Make dashboard selection links work
    const dashboardLinks = {
        "Organizer Dashboard": "organizer-dashboard.html",
        "Judge Dashboard": "judge-dashboard.html",
        "Participant Dashboard": "participant-dashboard.html"
    };
    
    // Add dashboard switcher if not present
    if (!document.querySelector('.dashboard-switcher')) {
        const userInfo = document.querySelector('.user-info');
        if (userInfo) {
            const dashboardSwitcher = document.createElement('div');
            dashboardSwitcher.className = 'dashboard-switcher';
            dashboardSwitcher.innerHTML = `
                <select id="dashboard-select">
                    <option value="judge-dashboard.html">Judge Dashboard</option>
                    <option value="organizer-dashboard.html">Organizer Dashboard</option>
                    <option value="participant-dashboard.html">Participant Dashboard</option>
                </select>
            `;
            
            userInfo.insertBefore(dashboardSwitcher, userInfo.querySelector('.logout'));
            
            // Set current selection based on page
            const currentPage = window.location.pathname.split('/').pop();
            const selectElement = dashboardSwitcher.querySelector('select');
            if (selectElement) {
                selectElement.value = currentPage;
                
                // Add change event listener
                selectElement.addEventListener('change', function() {
                    window.location.href = this.value;
                });
            }
        }
    }
    
    // Make logout links functional
    const logoutLinks = document.querySelectorAll('.logout');
    logoutLinks.forEach(link => {
        link.href = "login.html";
    });
}

// Make specific dashboard action links and buttons functional
function initializeDashboardActions() {
    // Make view all links functional
    const viewAllLinks = document.querySelectorAll('.view-all');
    viewAllLinks.forEach(link => {
        const linkText = link.textContent.trim();
        
        if (linkText === "View All Submissions") {
            link.href = "submissions.html";
        } else if (linkText === "View All Feedback") {
            link.href = "feedback.html";
        } else if (linkText === "View Full Report") {
            link.href = "reports.html";
        }
    });
    
    // Add functionality to preview buttons in judge dashboard
    const previewButtons = document.querySelectorAll('.btn-preview');
    previewButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Get project information from parent element
            const projectItem = this.closest('.project-item');
            if (projectItem) {
                const projectName = projectItem.querySelector('h4').textContent;
                // Create URL with project name as parameter
                const url = `submission-preview.html?project=${encodeURIComponent(projectName)}`;
                
                // If preview panel exists, we're updating it instead of navigating
                const previewPanel = document.getElementById('preview-panel');
                if (previewPanel) {
                    previewPanel.classList.add('active');
                } else {
                    window.location.href = url;
                }
            }
        });
    });
    
    // Add functionality to criteria details link
    const criteriaDetailsLink = document.querySelector('.criteria-details');
    if (criteriaDetailsLink) {
        criteriaDetailsLink.href = "criteria-details.html";
    }
    
    // Make resource item links functional in participant dashboard
    const resourceLinks = document.querySelectorAll('.resource-item');
    resourceLinks.forEach(link => {
        const resourceName = link.querySelector('span').textContent.trim();
        
        switch (resourceName) {
            case "Competition Guidelines":
                link.href = "guidelines.html";
                break;
            case "Tutorial Videos":
                link.href = "videos.html";
                break;
            case "Discussion Forum":
                link.href = "forum.html";
                break;
            case "FAQ":
                link.href = "faq.html";
                break;
        }
    });
    
    // Add functionality to buttons in organizer dashboard
    setupOrganizerDashboardButtons();
    
    // Add functionality to buttons in judge dashboard
    setupJudgeDashboardButtons();
    
    // Add functionality to buttons in participant dashboard
    setupParticipantDashboardButtons();
}

// Set up specific buttons for the organizer dashboard
function setupOrganizerDashboardButtons() {
    // Review registrations button
    const reviewRegistrationsBtn = document.getElementById('review-registrations');
    if (reviewRegistrationsBtn) {
        reviewRegistrationsBtn.addEventListener('click', function() {
            const registrationPanel = document.getElementById('registration-panel');
            if (registrationPanel) {
                registrationPanel.scrollIntoView({ behavior: 'smooth' });
            } else {
                window.location.href = "registration-requests.html";
            }
        });
    }
    
    // Timeline edit button
    const editTimelineBtn = document.getElementById('edit-timeline');
    if (editTimelineBtn) {
        editTimelineBtn.addEventListener('click', function() {
            window.location.href = "edit-timeline.html";
        });
    }
    
    // Approval and rejection buttons
    const approveButtons = document.querySelectorAll('.btn-approve');
    const rejectButtons = document.querySelectorAll('.btn-reject');
    
    approveButtons.forEach(button => {
        button.addEventListener('click', function() {
            const row = this.closest('tr');
            alert(`Approved registration for ${row.querySelector('td').textContent}`);
            row.style.backgroundColor = "#eaffea";
            setTimeout(() => {
                row.remove();
                updatePendingCount();
            }, 1000);
        });
    });
    
    rejectButtons.forEach(button => {
        button.addEventListener('click', function() {
            const row = this.closest('tr');
            alert(`Rejected registration for ${row.querySelector('td').textContent}`);
            row.style.backgroundColor = "#ffeaea";
            setTimeout(() => {
                row.remove();
                updatePendingCount();
            }, 1000);
        });
    });
    
    // Update pending count when approving/rejecting
    function updatePendingCount() {
        const statCircle = document.querySelector('.stat-circle.warning span');
        if (statCircle) {
            let count = parseInt(statCircle.textContent);
            count = Math.max(0, count - 1);
            statCircle.textContent = count.toString();
        }
    }
    
    // Quick action buttons
    const sendAnnouncementBtn = document.getElementById('send-announcement');
    if (sendAnnouncementBtn) {
        sendAnnouncementBtn.addEventListener('click', function() {
            const modal = document.getElementById('announcement-modal');
            if (modal) {
                modal.style.display = "block";
            } else {
                window.location.href = "send-announcement.html";
            }
        });
    }
    
    const exportDataBtn = document.getElementById('export-data');
    if (exportDataBtn) {
        exportDataBtn.addEventListener('click', function() {
            alert("Exporting data... Your file will be ready for download shortly.");
        });
    }
    
    const generateReportBtn = document.getElementById('generate-report');
    if (generateReportBtn) {
        generateReportBtn.addEventListener('click', function() {
            window.location.href = "generate-report.html";
        });
    }
    
    const configureSettingsBtn = document.getElementById('configure-settings');
    if (configureSettingsBtn) {
        configureSettingsBtn.addEventListener('click', function() {
            window.location.href = "settings.html";
        });
    }
    
    // Modal close buttons
    const closeModalBtns = document.querySelectorAll('.close-modal');
    closeModalBtns.forEach(button => {
        button.addEventListener('click', function() {
            const modal = this.closest('.modal');
            if (modal) {
                modal.style.display = "none";
            }
        });
    });
    
    // Cancel announcement button
    const cancelAnnouncementBtn = document.getElementById('cancel-announcement');
    if (cancelAnnouncementBtn) {
        cancelAnnouncementBtn.addEventListener('click', function() {
            const modal = document.getElementById('announcement-modal');
            if (modal) {
                modal.style.display = "none";
            }
        });
    }
    
    // Announcement form submission
    const announcementForm = document.getElementById('announcement-form');
    if (announcementForm) {
        announcementForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const title = document.getElementById('announcement-title').value;
            const recipients = document.getElementById('announcement-recipients').value;
            alert(`Announcement "${title}" sent to ${recipients}`);
            
            // Hide modal
            const modal = document.getElementById('announcement-modal');
            if (modal) {
                modal.style.display = "none";
            }
            
            // Reset form
            this.reset();
        });
    }
    
    // Pagination
    const paginationLinks = document.querySelectorAll('.pagination .page-link');
    paginationLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Remove active class from all links
            paginationLinks.forEach(l => l.classList.remove('active'));
            
            // Add active class to clicked link
            this.classList.add('active');
            
            // In a real application, this would load the appropriate page data
            alert(`Navigating to page ${this.textContent}`);
        });
    });
}

// Set up specific buttons for the judge dashboard
function setupJudgeDashboardButtons() {
    // Full submission view button
    const viewFullBtn = document.getElementById('view-full');
    if (viewFullBtn) {
        viewFullBtn.addEventListener('click', function() {
            const projectName = document.querySelector('.preview-header h4')?.textContent;
            if (projectName) {
                window.location.href = `submission-details.html?project=${encodeURIComponent(projectName)}`;
            } else {
                window.location.href = "submission-details.html";
            }
        });
    }
    
    // Save notes button
    const saveNotesBtn = document.getElementById('save-notes');
    if (saveNotesBtn) {
        saveNotesBtn.addEventListener('click', function() {
            alert("Your notes have been saved successfully");
        });
    }
    
    // Calendar button
    const calendarBtn = document.getElementById('calendar-button');
    if (calendarBtn) {
        calendarBtn.addEventListener('click', function() {
            alert("Calendar events have been added to your calendar");
        });
    }
    
    // Close preview panel
    const closePanel = document.querySelector('.close-panel');
    if (closePanel) {
        closePanel.addEventListener('click', function() {
            const previewPanel = document.getElementById('preview-panel');
            if (previewPanel) {
                previewPanel.classList.remove('active');
            }
        });
    }
    
    // Detailed criteria view
    const criteriaDetailsLink = document.querySelector('.criteria-details');
    if (criteriaDetailsLink) {
        criteriaDetailsLink.href = "criteria-details.html";
    }
}

// Set up specific buttons for the participant dashboard
function setupParticipantDashboardButtons() {
    // Submit button
    const submitBtn = document.getElementById('submit-button');
    if (submitBtn) {
        submitBtn.addEventListener('click', function() {
            window.location.href = "submit-project.html";
        });
    }
    
    // Calendar button
    const calendarBtn = document.getElementById('calendar-button');
    if (calendarBtn) {
        calendarBtn.addEventListener('click', function() {
            alert("Events added to your calendar");
        });
    }
    
    // Notification panel toggling
    const notificationsIcon = document.querySelector('.notifications');
    if (notificationsIcon) {
        notificationsIcon.addEventListener('click', function() {
            const notificationsPanel = document.getElementById('notifications-panel');
            if (notificationsPanel) {
                notificationsPanel.classList.toggle('active');
                
                // Mark notifications as read when opened
                const unreadNotifications = notificationsPanel.querySelectorAll('.notification.unread');
                unreadNotifications.forEach(notification => {
                    notification.classList.remove('unread');
                });
                
                // Update badge count
                const badge = document.querySelector('.notifications .badge');
                if (badge) {
                    badge.textContent = "0";
                    badge.style.display = "none";
                }
            }
        });
    }
}
// Script to handle the preview panel functionality in the judge dashboard

function initializePreviewPanel() {
    const previewPanel = document.getElementById('preview-panel');
    const previewButtons = document.querySelectorAll('.btn-preview');
    const closeButton = document.querySelector('.close-panel');
    
    if (!previewPanel || !previewButtons.length || !closeButton) return;
    
    // Projects data - in a real application, this would come from a database
    const projectsData = [
        {
            name: "Project Alpha",
            team: "Team Innovators",
            date: "Mar 5, 2025",
            description: "Project Alpha is a revolutionary approach to solve urban transportation issues using AI and renewable energy sources.",
            category: "Urban Mobility",
            teamSize: "4 members"
        },
        {
            name: "EcoSolution",
            team: "Green Team",
            date: "Mar 4, 2025",
            description: "A sustainable solution for reducing plastic waste in oceans through biodegradable materials and cleanup drones.",
            category: "Environmental",
            teamSize: "3 members"
        },
        {
            name: "FutureVision",
            team: "NextGen",
            date: "Mar 3, 2025",
            description: "An AI-powered platform that helps predict future trends in various industries using big data analytics.",
            category: "Data Science",
            teamSize: "5 members"
        }
    ];
    
    // Open preview panel when clicking preview buttons
    previewButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Get project info from the clicked item
            const projectItem = this.closest('.project-item');
            if (projectItem) {
                const projectName = projectItem.querySelector('h4').textContent;
                
                // Find project data
                const projectData = projectsData.find(project => project.name === projectName) || projectsData[0];
                
                // Update preview panel with project info
                updatePreviewPanel(projectData);
                
                // Show the panel
                previewPanel.classList.add('active');
            }
        });
    });
    
    // Close preview panel
    closeButton.addEventListener('click', function() {
        previewPanel.classList.remove('active');
    });
    
    // Function to update preview panel content
    function updatePreviewPanel(projectData) {
        document.querySelector('.preview-header h4').textContent = projectData.name;
        document.querySelector('.preview-header .team').textContent = projectData.team;
        document.querySelector('.preview-description').textContent = projectData.description;
        
        const detailsList = document.querySelector('.preview-details');
        if (detailsList) {
            const details = [
                `<li><strong>Category:</strong> ${projectData.category}</li>`,
                `<li><strong>Team Size:</strong> ${projectData.teamSize}</li>`,
                `<li><strong>Submission Date:</strong> ${projectData.date}</li>`
            ];
            
            detailsList.innerHTML = details.join('');
        }
    }
    
    // Close panel when clicking outside
    document.addEventListener('click', function(event) {
        if (previewPanel.classList.contains('active') && 
            !previewPanel.contains(event.target) && 
            !Array.from(previewButtons).some(btn => btn.contains(event.target))) {
            previewPanel.classList.remove('active');
        }
    });
    
    // Add notes functionality
    const saveNotesBtn = document.getElementById('save-notes');
    if (saveNotesBtn) {
        // Create notes field if it doesn't exist
        if (!document.querySelector('.notes-field')) {
            const previewActions = document.querySelector('.preview-actions');
            if (previewActions) {
                const notesSection = document.createElement('div');
                notesSection.className = 'notes-section';
                notesSection.innerHTML = `
                    <h4>Judge Notes</h4>
                    <textarea class="notes-field" placeholder="Add your notes about this project here..."></textarea>
                `;
                
                previewActions.parentNode.insertBefore(notesSection, previewActions);
            }
        }
        
        // Save notes functionality
        saveNotesBtn.addEventListener('click', function() {
            const notesField = document.querySelector('.notes-field');
            if (notesField && notesField.value.trim() !== '') {
                // In a real app, this would save to a database
                showToast('Notes saved successfully', 'success');
            } else {
                showToast('Please add some notes first', 'warning');
            }
        });
    }
}

// Toast notification system for feedback
function showToast(message, type = 'info') {
    // Create toast container if it doesn't exist
    if (!document.querySelector('.toast-container')) {
        const toastContainer = document.createElement('div');
        toastContainer.className = 'toast-container';
        document.body.appendChild(toastContainer);
    }
    
    // Create toast element
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    
    // Set icon based on type
    let iconClass = 'icon-info';
    if (type === 'success') iconClass = 'icon-check';
    if (type === 'warning') iconClass = 'icon-warning';
    if (type === 'error') iconClass = 'icon-error';
    
    toast.innerHTML = `
        <div class="toast-icon"><i class="${iconClass}"></i></div>
        <div class="toast-message">${message}</div>
        <button class="toast-close">&times;</button>
    `;
    
    // Add toast to container
    document.querySelector('.toast-container').appendChild(toast);
    
    // Show toast
    setTimeout(() => {
        toast.classList.add('show');
    }, 10);
    
    // Auto-hide toast after delay
    setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => {
            toast.remove();
        }, 300);
    }, 5000);
    
    // Close button functionality
    toast.querySelector('.toast-close').addEventListener('click', function() {
        toast.classList.remove('show');
        setTimeout(() => {
            toast.remove();
        }, 300);
    });
}

// Call this function after DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializePreviewPanel();
});
    </script>
</body>
</html>
